<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>rray as a toolkit • rray</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="rray as a toolkit">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rray</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/broadcasting.html">Broadcasting</a>
    </li>
    <li>
      <a href="../articles/the-rray.html">The rray</a>
    </li>
    <li>
      <a href="../articles/toolkit.html">rray as a toolkit</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/DavisVaughan/rray">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>rray as a toolkit</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/DavisVaughan/rray/blob/master/vignettes/toolkit.Rmd"><code>vignettes/toolkit.Rmd</code></a></small>
      <div class="hidden name"><code>toolkit.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(rray)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(magrittr)</a></code></pre></div>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>One of the big goals for rray is to be a general purpose toolkit for working with arrays. A requirement of this is that you shouldn’t have to opt into using rray objects to be able to take advantages of the nice features of broadcasting, or the ability to use any of the <code>rray_*()</code> functions. That requirement has been at the core of rray development, and it means that you can use base R vector/matrix/array objects with any of the rray functions, and still get a base R object back out.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/matrix">matrix</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, <span class="dt">nrow =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">y &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/matrix">matrix</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">2</span>, <span class="dt">nrow =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="kw"><a href="../reference/rray_sum.html">rray_sum</a></span>(x, <span class="dt">axes =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt;      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; [1,]    3    7   11</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="kw"><a href="../reference/rray_bind.html">rray_bind</a></span>(x, x, <span class="dt">axis =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt; , , 1</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt;      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co">#&gt; [1,]    1    3    5</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co">#&gt; [2,]    2    4    6</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="co">#&gt; , , 2</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co">#&gt;      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="co">#&gt; [1,]    1    3    5</span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19"><span class="co">#&gt; [2,]    2    4    6</span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20"></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="co"># You can't add these together with base R!</span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"><span class="kw"><a href="../reference/rray_arith.html">rray_add</a></span>(x, y)</a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="co">#&gt;      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="co">#&gt; [1,]    2    4    6</span></a>
<a class="sourceLine" id="cb2-25" data-line-number="25"><span class="co">#&gt; [2,]    4    6    8</span></a></code></pre></div>
</div>
<div id="axes" class="section level2">
<h2 class="hasAnchor">
<a href="#axes" class="anchor"></a>Axes</h2>
<p>The way you specify the dimensions over which a function should be applied is very different in rray compared with base R. With base R, you’ll often use the <code>MARGIN</code> argument to specify the dimensions. In rray, you use <code>axes</code> (or <code>axis</code>, depending on the function). In short, these two are <em>complements</em> of one another. Ignoring the fact that rray doesn’t drop length 1 dimensions, notice that the values computed here are the same, even though the dimensions to compute over look different.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/array">array</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">8</span>, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">2</span>))</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="kw"><a href="../reference/rray_sum.html">rray_sum</a></span>(x, <span class="dt">axes =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="co">#&gt; , , 1</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt; [1,]    3    7</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt; , , 2</span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt; [1,]   11   15</span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/apply">apply</a></span>(x, <span class="dt">MARGIN =</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">FUN =</span> sum)</a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#&gt; [1,]    3   11</span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt; [2,]    7   15</span></a></code></pre></div>
<p>If you do want to drop dimensions with rray, you can explictly call <code><a href="../reference/rray_squeeze.html">rray_squeeze()</a></code> afterwards. It is much easier to drop explictly than it is to recover the dropped dimensions from <code><a href="https://www.rdocumentation.org/packages/base/topics/apply">apply()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">x <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="../reference/rray_sum.html">rray_sum</a></span>(<span class="dt">axes =</span> <span class="dv">1</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="../reference/rray_squeeze.html">rray_squeeze</a></span>()</a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt; [1,]    3   11</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt; [2,]    7   15</span></a></code></pre></div>
<p>I find that <code>axes</code> is a more intuitive way to specify the dimensions, because you are listing the dimensions that you are allowing to change in some way. In the above example with the reducer <code><a href="../reference/rray_sum.html">rray_sum()</a></code>, I specified <code>axes = 1</code>. This <em>guarantees</em> that the result will have the same dimensions as <code>x</code> everywhere except in the first dimension, which will have length 1, no matter what. In other words, the dimensions go from <code>(2, 2, 2)</code> to <code>(1, 2, 2)</code>.</p>
<p>For another example, consider <code><a href="../reference/rray_bind.html">rray_bind()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># Bind "along" the first axis</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co"># rray_bind((2, 2, 2), (2, 2, 2), axis = 1) -&gt; (4, 2, 2)</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="kw"><a href="../reference/rray_bind.html">rray_bind</a></span>(x, x, <span class="dt">axis =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt; , , 1</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt; [1,]    1    3</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt; [2,]    2    4</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt; [3,]    1    3</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt; [4,]    2    4</span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt; , , 2</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="co">#&gt; [1,]    5    7</span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"><span class="co">#&gt; [2,]    6    8</span></a>
<a class="sourceLine" id="cb5-17" data-line-number="17"><span class="co">#&gt; [3,]    5    7</span></a>
<a class="sourceLine" id="cb5-18" data-line-number="18"><span class="co">#&gt; [4,]    6    8</span></a>
<a class="sourceLine" id="cb5-19" data-line-number="19"></a>
<a class="sourceLine" id="cb5-20" data-line-number="20"><span class="co"># rray_bind((2, 2, 2), (2, 2, 2), axis = 2) -&gt; (2, 4, 2)</span></a>
<a class="sourceLine" id="cb5-21" data-line-number="21"><span class="kw"><a href="../reference/rray_bind.html">rray_bind</a></span>(x, x, <span class="dt">axis =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb5-22" data-line-number="22"><span class="co">#&gt; , , 1</span></a>
<a class="sourceLine" id="cb5-23" data-line-number="23"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-24" data-line-number="24"><span class="co">#&gt;      [,1] [,2] [,3] [,4]</span></a>
<a class="sourceLine" id="cb5-25" data-line-number="25"><span class="co">#&gt; [1,]    1    3    1    3</span></a>
<a class="sourceLine" id="cb5-26" data-line-number="26"><span class="co">#&gt; [2,]    2    4    2    4</span></a>
<a class="sourceLine" id="cb5-27" data-line-number="27"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-28" data-line-number="28"><span class="co">#&gt; , , 2</span></a>
<a class="sourceLine" id="cb5-29" data-line-number="29"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-30" data-line-number="30"><span class="co">#&gt;      [,1] [,2] [,3] [,4]</span></a>
<a class="sourceLine" id="cb5-31" data-line-number="31"><span class="co">#&gt; [1,]    5    7    5    7</span></a>
<a class="sourceLine" id="cb5-32" data-line-number="32"><span class="co">#&gt; [2,]    6    8    6    8</span></a>
<a class="sourceLine" id="cb5-33" data-line-number="33"></a>
<a class="sourceLine" id="cb5-34" data-line-number="34"><span class="co"># rray_bind((2, 2, 2), (2, 2, 2), axis = 3) -&gt; (2, 2, 4)</span></a>
<a class="sourceLine" id="cb5-35" data-line-number="35"><span class="kw"><a href="../reference/rray_bind.html">rray_bind</a></span>(x, x, <span class="dt">axis =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb5-36" data-line-number="36"><span class="co">#&gt; , , 1</span></a>
<a class="sourceLine" id="cb5-37" data-line-number="37"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-38" data-line-number="38"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb5-39" data-line-number="39"><span class="co">#&gt; [1,]    1    3</span></a>
<a class="sourceLine" id="cb5-40" data-line-number="40"><span class="co">#&gt; [2,]    2    4</span></a>
<a class="sourceLine" id="cb5-41" data-line-number="41"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-42" data-line-number="42"><span class="co">#&gt; , , 2</span></a>
<a class="sourceLine" id="cb5-43" data-line-number="43"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-44" data-line-number="44"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb5-45" data-line-number="45"><span class="co">#&gt; [1,]    5    7</span></a>
<a class="sourceLine" id="cb5-46" data-line-number="46"><span class="co">#&gt; [2,]    6    8</span></a>
<a class="sourceLine" id="cb5-47" data-line-number="47"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-48" data-line-number="48"><span class="co">#&gt; , , 3</span></a>
<a class="sourceLine" id="cb5-49" data-line-number="49"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-50" data-line-number="50"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb5-51" data-line-number="51"><span class="co">#&gt; [1,]    1    3</span></a>
<a class="sourceLine" id="cb5-52" data-line-number="52"><span class="co">#&gt; [2,]    2    4</span></a>
<a class="sourceLine" id="cb5-53" data-line-number="53"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-54" data-line-number="54"><span class="co">#&gt; , , 4</span></a>
<a class="sourceLine" id="cb5-55" data-line-number="55"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb5-56" data-line-number="56"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb5-57" data-line-number="57"><span class="co">#&gt; [1,]    5    7</span></a>
<a class="sourceLine" id="cb5-58" data-line-number="58"><span class="co">#&gt; [2,]    6    8</span></a></code></pre></div>
<p>To determine the resulting dimensions of a bind operation, there are two steps. First, the common dimensions are determined in every dimension except for the <code>axis</code> of interest. Then, to determine the dimension size of the <code>axis</code>, add the <code>axis</code> sizes of the inputs.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">axis &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">arg_<span class="dv">1</span> &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rray_slice.html">rray_slice</a></span>(x, <span class="dv">0</span>, axis)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">arg_<span class="dv">2</span> &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rray_slice.html">rray_slice</a></span>(x, <span class="dv">0</span>, axis)</a>
<a class="sourceLine" id="cb6-4" data-line-number="4"></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co"># make an empty object with `axis` dimensionality to broadcast with</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6">dummy_dim &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/rep">rep</a></span>(1L, <span class="dt">times =</span> axis)</a>
<a class="sourceLine" id="cb6-7" data-line-number="7">dummy_dim[axis] &lt;-<span class="st"> </span>0L</a>
<a class="sourceLine" id="cb6-8" data-line-number="8">dummy &lt;-<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/array">array</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/numeric">numeric</a></span>(), dummy_dim)</a>
<a class="sourceLine" id="cb6-9" data-line-number="9"></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co"># find the common dimensions</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11">new_dim &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rray_dim.html">rray_dim_common</a></span>(arg_<span class="dv">1</span>, arg_<span class="dv">2</span>, dummy)</a>
<a class="sourceLine" id="cb6-12" data-line-number="12"></a>
<a class="sourceLine" id="cb6-13" data-line-number="13">new_dim[axis] &lt;-<span class="st"> </span><span class="kw"><a href="../reference/rray_dim.html">rray_dim</a></span>(x)[axis] <span class="op">+</span><span class="st"> </span><span class="kw"><a href="../reference/rray_dim.html">rray_dim</a></span>(x)[axis]</a>
<a class="sourceLine" id="cb6-14" data-line-number="14"></a>
<a class="sourceLine" id="cb6-15" data-line-number="15">new_dim</a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">#&gt; [1] 4 2 2</span></a></code></pre></div>
<p>To determine the resulting dimensions, all you have to do is find the common dimensions, and then add together the dimensions along the <code>axis</code> of interest. Again, the only dimension that is allowed to change is the <code>axis</code> dimension. You might be surprised to learn that you can actually bind along a higher dimensional axis than what are specified by the inputs in <code>...</code>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="co"># rray_bind((2, 2, 2), (2, 2, 2), axis = 4) -&gt; (2, 4, 2, 2)</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="kw"><a href="../reference/rray_bind.html">rray_bind</a></span>(x, x, <span class="dt">axis =</span> <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="co">#&gt; , , 1, 1</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="co">#&gt; [1,]    1    3</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co">#&gt; [2,]    2    4</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="co">#&gt; , , 2, 1</span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="co">#&gt; [1,]    5    7</span></a>
<a class="sourceLine" id="cb7-13" data-line-number="13"><span class="co">#&gt; [2,]    6    8</span></a>
<a class="sourceLine" id="cb7-14" data-line-number="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-15" data-line-number="15"><span class="co">#&gt; , , 1, 2</span></a>
<a class="sourceLine" id="cb7-16" data-line-number="16"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-17" data-line-number="17"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb7-18" data-line-number="18"><span class="co">#&gt; [1,]    1    3</span></a>
<a class="sourceLine" id="cb7-19" data-line-number="19"><span class="co">#&gt; [2,]    2    4</span></a>
<a class="sourceLine" id="cb7-20" data-line-number="20"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-21" data-line-number="21"><span class="co">#&gt; , , 2, 2</span></a>
<a class="sourceLine" id="cb7-22" data-line-number="22"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-23" data-line-number="23"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb7-24" data-line-number="24"><span class="co">#&gt; [1,]    5    7</span></a>
<a class="sourceLine" id="cb7-25" data-line-number="25"><span class="co">#&gt; [2,]    6    8</span></a>
<a class="sourceLine" id="cb7-26" data-line-number="26"></a>
<a class="sourceLine" id="cb7-27" data-line-number="27"><span class="kw"><a href="../reference/rray_bind.html">rray_bind</a></span>(x, x, <span class="dt">axis =</span> <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb7-28" data-line-number="28"><span class="co">#&gt; , , 1, 1, 1</span></a>
<a class="sourceLine" id="cb7-29" data-line-number="29"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-30" data-line-number="30"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb7-31" data-line-number="31"><span class="co">#&gt; [1,]    1    3</span></a>
<a class="sourceLine" id="cb7-32" data-line-number="32"><span class="co">#&gt; [2,]    2    4</span></a>
<a class="sourceLine" id="cb7-33" data-line-number="33"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-34" data-line-number="34"><span class="co">#&gt; , , 2, 1, 1</span></a>
<a class="sourceLine" id="cb7-35" data-line-number="35"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-36" data-line-number="36"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb7-37" data-line-number="37"><span class="co">#&gt; [1,]    5    7</span></a>
<a class="sourceLine" id="cb7-38" data-line-number="38"><span class="co">#&gt; [2,]    6    8</span></a>
<a class="sourceLine" id="cb7-39" data-line-number="39"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-40" data-line-number="40"><span class="co">#&gt; , , 1, 1, 2</span></a>
<a class="sourceLine" id="cb7-41" data-line-number="41"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-42" data-line-number="42"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb7-43" data-line-number="43"><span class="co">#&gt; [1,]    1    3</span></a>
<a class="sourceLine" id="cb7-44" data-line-number="44"><span class="co">#&gt; [2,]    2    4</span></a>
<a class="sourceLine" id="cb7-45" data-line-number="45"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-46" data-line-number="46"><span class="co">#&gt; , , 2, 1, 2</span></a>
<a class="sourceLine" id="cb7-47" data-line-number="47"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb7-48" data-line-number="48"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb7-49" data-line-number="49"><span class="co">#&gt; [1,]    5    7</span></a>
<a class="sourceLine" id="cb7-50" data-line-number="50"><span class="co">#&gt; [2,]    6    8</span></a></code></pre></div>
<p>TODO - insert images showcasing applying a function along an axis. Use a 3D array, and do along 1st, 2nd, and 3rd dimension.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#introduction">Introduction</a></li>
      <li><a href="#axes">Axes</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Davis Vaughan.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
